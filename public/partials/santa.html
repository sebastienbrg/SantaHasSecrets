
<div  ng-cloak>
  <div class="navbar navbar-default" role="navigation">
    <div class="container">
      <ul class="nav navbar-nav">
      <li class="nav-item" id="myAssNav" >
        <a class="nav-link" ng-click="showMyAssignments()" href="">{{ participant }} </a>
      </li>
      <li class="nav-item" id="AssListNav" >
        <a class="nav-link" ng-click="showOthersAssignments()" href="">Les autres</a>
      </li>
      <li class="nav-item" id="Messages" >
        <a class="nav-link" ng-click="showMessages()" href="">Messages</a>
      </li>
      <li>
        <a class="nav-link" ng-click="disconnect()" href="">Déconnexion</a>
    </li>
    </ul>
  </div>
</div>
    <div id="myAssignments">
    <table class="table">
        <thead>
        <tr>
        <th> Round </th>
        <th> Petit cadeau </th>
        <th> gros cadeau </th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="round in userAssignements.assignments"  class="{{round.state}}">
          <td>{{round.num}}</td>
          <td >{{round.petitCadeau}}</td>
          <td>{{round.grosCadeau}}</td>
        </div>
        </td>
        </tbody>
      </table>
      <button  ng-show="!isDone" type="button" class="btn btn-default" ng-click= "addANewAssignment(appToken); "> 
        <span class="glyphicon glyphicon-plus"></span> Tirer des noms pour un autre tour ! </button>
  </div>
  <div id="otherAssignments">
    <div ng-repeat="userAssignment in globalAssignments">
    <div ng-show="userAssignment.name != participant" class="affichNbr">  
      <h3>{{ userAssignment.name }}</h3>
     <p>{{ userAssignment.assignments.length }} tour{{userAssignment.assignments.length>1?"s":""}} déjà tirés.</p>
      </div>
    </div>
    </div>
  </div>
  <div id="MessagesDiv">
    <div class="col-md-12">
      <h2> Conversation avec celui qui a le gros cadeau de {{getMonPetitCadeau()}}</h2>
      <div class="row" ng-repeat="message in messages.monPetitCadeau">
        <div class="col-md-4" ng-show="{{message.from == 'Moi'}}"></div>        
        <div class="col-md-8 jumbotron" ><h4>{{ message.from }}:</h4><p> {{message.content}}</p></div>
      </div>
      <div class="col-md-12">
      <textarea placeholder="Mon message (qui doit être anonyme !)"  id="messageContentPetit" class="col-md-12"></textarea>
      <button class="btn btn-primary col-md-4" ng-click="sendMessageMonPetitCadeau()"> Envoyer le message </button>
      </div>
    </div>

    <div class="col-md-12">
      <h2> Conversation avec celui qui a le petit cadeau de {{getMonGrosCadeau()}}</h2>
      <div class="row" ng-repeat="message in messages.monGrosCadeau">
        <div class="col-md-4" ng-show="{{message.from == 'Moi'}}"></div>        
        <div class="col-md-8 jumbotron" ><h4>{{ message.from }}:</h4><p> {{message.content}}</p></div>
      </div>
      <div class="col-md-12" >
      <textarea placeholder="Mon message (qui doit être anonyme !)" id="messageContentGros" class="col-md-12"></textarea>
      <button class="btn btn-primary col-md-4" ng-click="sendMessageMonGrosCadeau()"> Envoyer le message </button>
      </div>
    </div>
    
  </div>
</div>
